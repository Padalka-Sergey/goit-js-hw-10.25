{"version":3,"file":"index.js","sources":["../src/js/cat-api.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1';\naxios.defaults.headers.common['x-api-key'] =\n  'live_dQuAF2pHJj23iJ2FMfklaGTDoTtwEarWY1Oy4DhSrDVaK6BwG3daRESWIuzSfuis';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nfunction fetchBreeds(makeMarkupSelect, showLoaderSelect) {\n  axios\n    .get('/breeds')\n    .then(({ data }) => {\n      makeMarkupSelect(data);\n      showLoaderSelect();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nfunction fetchCatByBreed(breedId, makeMarkupCat, showLoaderCat) {\n  axios\n    .get(`images/search?breed_ids=${breedId}`)\n    .then(({ data }) => {\n      makeMarkupCat(data);\n      showLoaderCat();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst ref = {\n  select: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  textLoader: document.querySelector('.loader'),\n  textError: document.querySelector('.error'),\n};\n\nfetchBreeds(makeMarkupSelect, showLoaderSelect);\nref.select.addEventListener('change', selectedCat);\n\nfunction makeMarkupSelect(dataResp) {\n  const markup = dataResp\n    .map(dataEl => `<option value=${dataEl.id}>${dataEl.name}</option>`)\n    .join('');\n  ref.select.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction selectedCat(evt) {\n  const selectedValue = evt.currentTarget.value;\n  fetchCatByBreed(selectedValue, makeMarkupCat, showLoaderCat);\n  ref.catInfo.innerHTML = '';\n  ref.textLoader.classList.remove('is-notActive-loader');\n}\n\nfunction makeMarkupCat(dataResp) {\n  const markup = `<img src=${dataResp[0].url} alt=${dataResp[0].breeds[0].name}\nwidth=\"350\"/><div class=\"text-info\"><h1>${dataResp[0].breeds[0].name}</h1><p>${dataResp[0].breeds[0].description}</p><p><b>Temperament:</b> ${dataResp[0].breeds[0].temperament}</p></div>`;\n\n  ref.catInfo.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction showLoaderSelect() {\n  ref.select.classList.remove('is-notActive-select');\n  ref.textLoader.classList.add('is-notActive-loader');\n}\n\nfunction showLoaderCat() {\n  ref.textLoader.classList.add('is-notActive-loader');\n}\n"],"names":["axios","fetchBreeds","makeMarkupSelect","showLoaderSelect","data","error","fetchCatByBreed","breedId","makeMarkupCat","showLoaderCat","ref","selectedCat","dataResp","markup","dataEl","evt","selectedValue"],"mappings":"svBAEAA,EAAM,SAAS,QAAU,+BACzBA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEACFA,EAAM,SAAS,QAAQ,KAAK,cAAc,EAAI,mBAE9C,SAASC,EAAYC,EAAkBC,EAAkB,CACvDH,EACG,IAAI,SAAS,EACb,KAAK,CAAC,CAAE,KAAAI,KAAW,CAClBF,EAAiBE,CAAI,EACrBD,GACN,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAEA,SAASC,EAAgBC,EAASC,EAAeC,EAAe,CAC9DT,EACG,IAAI,2BAA2BO,CAAO,EAAE,EACxC,KAAK,CAAC,CAAE,KAAAH,KAAW,CAClBI,EAAcJ,CAAI,EAClBK,GACN,CAAK,EACA,MAAMJ,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CC3BA,MAAMK,EAAM,CACV,OAAQ,SAAS,cAAc,eAAe,EAC9C,QAAS,SAAS,cAAc,WAAW,EAC3C,WAAY,SAAS,cAAc,SAAS,EAC5C,UAAW,SAAS,cAAc,QAAQ,CAC5C,EAEAT,EAAYC,EAAkBC,CAAgB,EAC9CO,EAAI,OAAO,iBAAiB,SAAUC,CAAW,EAEjD,SAAST,EAAiBU,EAAU,CAClC,MAAMC,EAASD,EACZ,IAAIE,GAAU,iBAAiBA,EAAO,EAAE,IAAIA,EAAO,IAAI,WAAW,EAClE,KAAK,EAAE,EACVJ,EAAI,OAAO,mBAAmB,YAAaG,CAAM,CACnD,CAEA,SAASF,EAAYI,EAAK,CACxB,MAAMC,EAAgBD,EAAI,cAAc,MACxCT,EAAgBU,EAAeR,EAAeC,CAAa,EAC3DC,EAAI,QAAQ,UAAY,GACxBA,EAAI,WAAW,UAAU,OAAO,qBAAqB,CACvD,CAEA,SAASF,EAAcI,EAAU,CAC/B,MAAMC,EAAS,YAAYD,EAAS,CAAC,EAAE,GAAG,QAAQA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI;AAAA,0CACpCA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI,WAAWA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW,8BAA8BA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW,aAE7KF,EAAI,QAAQ,mBAAmB,YAAaG,CAAM,CACpD,CAEA,SAASV,GAAmB,CAC1BO,EAAI,OAAO,UAAU,OAAO,qBAAqB,EACjDA,EAAI,WAAW,UAAU,IAAI,qBAAqB,CACpD,CAEA,SAASD,GAAgB,CACvBC,EAAI,WAAW,UAAU,IAAI,qBAAqB,CACpD"}