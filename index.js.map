{"version":3,"file":"index.js","sources":["../src/js/cat-api.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1';\naxios.defaults.headers.common['x-api-key'] =\n  'live_dQuAF2pHJj23iJ2FMfklaGTDoTtwEarWY1Oy4DhSrDVaK6BwG3daRESWIuzSfuis';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nfunction fetchBreeds() {\n  return axios\n    .get('/breeds')\n    .then(({ data }) => {\n      return data;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nfunction fetchCatByBreed(breedId) {\n  return axios\n    .get(`images/search?breed_ids=${breedId}`)\n    .then(({ data }) => {\n      return data;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst ref = {\n  select: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  textLoader: document.querySelector('.loader'),\n  textError: document.querySelector('.error'),\n};\n\nfetchBreeds()\n  .then(data => {\n    makeMarkupSelect(data);\n    showSelect();\n    removeLoader();\n  })\n  .catch(() => {\n    showError(), removeLoader();\n  });\n\nref.select.addEventListener('change', selectedCat);\n\nfunction makeMarkupSelect(dataResp) {\n  const markup = dataResp\n    .map(dataEl => `<option value=${dataEl.id}>${dataEl.name}</option>`)\n    .join('');\n  ref.select.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction selectedCat(evt) {\n  const selectedValue = evt.currentTarget.value;\n\n  fetchCatByBreed(selectedValue)\n    .then(data => {\n      makeMarkupCat(data);\n      removeLoader();\n    })\n    .catch(() => {\n      showError(), removeLoader();\n    });\n  ref.catInfo.innerHTML = '';\n  showLoader();\n}\n\nfunction makeMarkupCat(dataResp) {\n  const markup = `<img src=${dataResp[0].url} alt=${dataResp[0].breeds[0].name}\nwidth=\"350\"/><div class=\"text-info\"><h1>${dataResp[0].breeds[0].name}</h1><p>${dataResp[0].breeds[0].description}</p><p><b>Temperament:</b> ${dataResp[0].breeds[0].temperament}</p></div>`;\n\n  ref.catInfo.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction showSelect() {\n  ref.select.classList.remove('is-notActive-select');\n}\n\nfunction removeLoader() {\n  ref.textLoader.classList.add('is-notActive-loader');\n}\nfunction showLoader() {\n  ref.textLoader.classList.remove('is-notActive-loader');\n}\n\nfunction showError() {\n  ref.textError.classList.remove('is-notActive-error');\n}\n"],"names":["axios","fetchBreeds","data","error","fetchCatByBreed","breedId","ref","makeMarkupSelect","showSelect","removeLoader","showError","selectedCat","dataResp","markup","dataEl","evt","selectedValue","makeMarkupCat","showLoader"],"mappings":"svBAEAA,EAAM,SAAS,QAAU,+BACzBA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEACFA,EAAM,SAAS,QAAQ,KAAK,cAAc,EAAI,mBAE9C,SAASC,GAAc,CACrB,OAAOD,EACJ,IAAI,SAAS,EACb,KAAK,CAAC,CAAE,KAAAE,KACAA,CACR,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAEA,SAASC,EAAgBC,EAAS,CAChC,OAAOL,EACJ,IAAI,2BAA2BK,CAAO,EAAE,EACxC,KAAK,CAAC,CAAE,KAAAH,KACAA,CACR,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CCzBA,MAAMG,EAAM,CACV,OAAQ,SAAS,cAAc,eAAe,EAC9C,QAAS,SAAS,cAAc,WAAW,EAC3C,WAAY,SAAS,cAAc,SAAS,EAC5C,UAAW,SAAS,cAAc,QAAQ,CAC5C,EAEAL,EAAa,EACV,KAAKC,GAAQ,CACZK,EAAiBL,CAAI,EACrBM,IACAC,GACJ,CAAG,EACA,MAAM,IAAM,CACXC,EAAS,EAAID,GACjB,CAAG,EAEHH,EAAI,OAAO,iBAAiB,SAAUK,CAAW,EAEjD,SAASJ,EAAiBK,EAAU,CAClC,MAAMC,EAASD,EACZ,IAAIE,GAAU,iBAAiBA,EAAO,EAAE,IAAIA,EAAO,IAAI,WAAW,EAClE,KAAK,EAAE,EACVR,EAAI,OAAO,mBAAmB,YAAaO,CAAM,CACnD,CAEA,SAASF,EAAYI,EAAK,CACxB,MAAMC,EAAgBD,EAAI,cAAc,MAExCX,EAAgBY,CAAa,EAC1B,KAAKd,GAAQ,CACZe,EAAcf,CAAI,EAClBO,GACN,CAAK,EACA,MAAM,IAAM,CACXC,EAAS,EAAID,GACnB,CAAK,EACHH,EAAI,QAAQ,UAAY,GACxBY,GACF,CAEA,SAASD,EAAcL,EAAU,CAC/B,MAAMC,EAAS,YAAYD,EAAS,CAAC,EAAE,GAAG,QAAQA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI;AAAA,0CACpCA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI,WAAWA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW,8BAA8BA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW,aAE7KN,EAAI,QAAQ,mBAAmB,YAAaO,CAAM,CACpD,CAEA,SAASL,GAAa,CACpBF,EAAI,OAAO,UAAU,OAAO,qBAAqB,CACnD,CAEA,SAASG,GAAe,CACtBH,EAAI,WAAW,UAAU,IAAI,qBAAqB,CACpD,CACA,SAASY,GAAa,CACpBZ,EAAI,WAAW,UAAU,OAAO,qBAAqB,CACvD,CAEA,SAASI,GAAY,CACnBJ,EAAI,UAAU,UAAU,OAAO,oBAAoB,CACrD"}