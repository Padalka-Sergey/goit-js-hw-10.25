{"version":3,"file":"index.js","sources":["../src/js/cat-api.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1';\naxios.defaults.headers.common['x-api-key'] =\n  'live_dQuAF2pHJj23iJ2FMfklaGTDoTtwEarWY1Oy4DhSrDVaK6BwG3daRESWIuzSfuis';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nfunction fetchBreeds() {\n  return axios\n    .get('/breeds')\n    .then(({ data }) => data)\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nfunction fetchCatByBreed(breedId) {\n  return axios\n    .get(`images/search?breed_ids=${breedId}`)\n    .then(({ data }) => data)\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport SlimSelect from 'slim-select';\n\nNotiflix.Notify.init({\n  width: '400px',\n  position: 'right-top',\n});\n\nconst DELAYNOTIF = 10000;\n\nconst ref = {\n  select: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader'),\n  loaderContainer: document.querySelector('.loader-container'),\n  // textError: document.querySelector('.error'),\n};\n\nfetchBreeds()\n  .then(data => {\n    makeMarkupSelect(data);\n    showSelect();\n    makeSlimSelect();\n    removeLoader();\n  })\n\n  .catch(() => {\n    showError(), removeLoader();\n  });\n\nref.select.addEventListener('change', selectedCat);\n\nfunction makeMarkupSelect(dataResp) {\n  const markup = dataResp\n    .map(dataEl => `<option value=${dataEl.id}>${dataEl.name}</option>`)\n    .join('');\n  ref.select.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction selectedCat(evt) {\n  const selectedValue = evt.currentTarget.value;\n\n  fetchCatByBreed(selectedValue)\n    .then(data => {\n      makeMarkupCat(data);\n      removeLoader();\n    })\n    .catch(() => {\n      showError(), removeLoader();\n    });\n  ref.catInfo.innerHTML = '';\n  showLoader();\n}\n\nfunction makeMarkupCat(dataResp) {\n  const markup = `<img src=${dataResp[0].url} alt=${dataResp[0].breeds[0].name}\nwidth=\"350\"/><div class=\"text-info\"><h1>${dataResp[0].breeds[0].name}</h1><p>${dataResp[0].breeds[0].description}</p><p><b>Temperament:</b> ${dataResp[0].breeds[0].temperament}</p></div>`;\n\n  ref.catInfo.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction showSelect() {\n  ref.select.classList.remove('is-notActive-select');\n}\n\nfunction removeLoader() {\n  ref.loader.classList.add('is-notActive-loader');\n  ref.loaderContainer.classList.add('is-notActive-loader');\n}\nfunction showLoader() {\n  ref.loader.classList.remove('is-notActive-loader');\n  ref.loaderContainer.classList.remove('is-notActive-loader');\n}\n\nfunction showError() {\n  // ref.textError.classList.remove('is-notActive-error');\n  Notiflix.Notify.failure(\n    `Oops! Something went wrong! Try reloading the page!`,\n    {\n      timeout: DELAYNOTIF,\n    }\n  );\n}\n\nfunction makeSlimSelect() {\n  new SlimSelect({\n    select: ref.select,\n  });\n}\n"],"names":["axios","fetchBreeds","data","error","fetchCatByBreed","breedId","DELAYNOTIF","ref","makeMarkupSelect","showSelect","makeSlimSelect","removeLoader","showError","selectedCat","dataResp","markup","dataEl","evt","selectedValue","makeMarkupCat","showLoader","SlimSelect"],"mappings":"6vBAEAA,EAAM,SAAS,QAAU,+BACzBA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEACFA,EAAM,SAAS,QAAQ,KAAK,cAAc,EAAI,mBAE9C,SAASC,GAAc,CACrB,OAAOD,EACJ,IAAI,SAAS,EACb,KAAK,CAAC,CAAE,KAAAE,CAAM,IAAKA,CAAI,EACvB,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAEA,SAASC,EAAgBC,EAAS,CAChC,OAAOL,EACJ,IAAI,2BAA2BK,CAAO,EAAE,EACxC,KAAK,CAAC,CAAE,KAAAH,CAAM,IAAKA,CAAI,EACvB,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CCpBA,SAAS,OAAO,KAAK,CACnB,MAAO,QACP,SAAU,WACZ,CAAC,EAED,MAAMG,EAAa,IAEbC,EAAM,CACV,OAAQ,SAAS,cAAc,eAAe,EAC9C,QAAS,SAAS,cAAc,WAAW,EAC3C,OAAQ,SAAS,cAAc,SAAS,EACxC,gBAAiB,SAAS,cAAc,mBAAmB,CAE7D,EAEAN,EAAa,EACV,KAAKC,GAAQ,CACZM,EAAiBN,CAAI,EACrBO,IACAC,IACAC,GACJ,CAAG,EAEA,MAAM,IAAM,CACXC,EAAS,EAAID,GACjB,CAAG,EAEHJ,EAAI,OAAO,iBAAiB,SAAUM,CAAW,EAEjD,SAASL,EAAiBM,EAAU,CAClC,MAAMC,EAASD,EACZ,IAAIE,GAAU,iBAAiBA,EAAO,EAAE,IAAIA,EAAO,IAAI,WAAW,EAClE,KAAK,EAAE,EACVT,EAAI,OAAO,mBAAmB,YAAaQ,CAAM,CACnD,CAEA,SAASF,EAAYI,EAAK,CACxB,MAAMC,EAAgBD,EAAI,cAAc,MAExCb,EAAgBc,CAAa,EAC1B,KAAKhB,GAAQ,CACZiB,EAAcjB,CAAI,EAClBS,GACN,CAAK,EACA,MAAM,IAAM,CACXC,EAAS,EAAID,GACnB,CAAK,EACHJ,EAAI,QAAQ,UAAY,GACxBa,GACF,CAEA,SAASD,EAAcL,EAAU,CAC/B,MAAMC,EAAS,YAAYD,EAAS,CAAC,EAAE,GAAG,QAAQA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI;AAAA,0CACpCA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI,WAAWA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW,8BAA8BA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW,aAE7KP,EAAI,QAAQ,mBAAmB,YAAaQ,CAAM,CACpD,CAEA,SAASN,GAAa,CACpBF,EAAI,OAAO,UAAU,OAAO,qBAAqB,CACnD,CAEA,SAASI,GAAe,CACtBJ,EAAI,OAAO,UAAU,IAAI,qBAAqB,EAC9CA,EAAI,gBAAgB,UAAU,IAAI,qBAAqB,CACzD,CACA,SAASa,GAAa,CACpBb,EAAI,OAAO,UAAU,OAAO,qBAAqB,EACjDA,EAAI,gBAAgB,UAAU,OAAO,qBAAqB,CAC5D,CAEA,SAASK,GAAY,CAEnB,SAAS,OAAO,QACd,sDACA,CACE,QAASN,CACV,CACL,CACA,CAEA,SAASI,GAAiB,CACxB,IAAIW,EAAW,CACb,OAAQd,EAAI,MAChB,CAAG,CACH"}