{"version":3,"file":"index.js","sources":["../src/js/cat-api.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1';\naxios.defaults.headers.common['x-api-key'] =\n  'live_dQuAF2pHJj23iJ2FMfklaGTDoTtwEarWY1Oy4DhSrDVaK6BwG3daRESWIuzSfuis';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nfunction fetchBreeds(makeMarkupSelect, showSelect, removeLoader, showError) {\n  axios\n    .get('/breeds')\n    .then(({ data }) => {\n      makeMarkupSelect(data);\n      showSelect();\n      removeLoader();\n    })\n    .catch(error => {\n      showError();\n      removeLoader();\n      console.log(error);\n    });\n}\n\nfunction fetchCatByBreed(breedId, makeMarkupCat, removeLoader, showError) {\n  axios\n    .get(`images/search?breed_ids=${breedId}`)\n    .then(({ data }) => {\n      makeMarkupCat(data);\n      removeLoader();\n    })\n    .catch(error => {\n      showError();\n      removeLoader();\n      console.log(error);\n    });\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst ref = {\n  select: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  textLoader: document.querySelector('.loader'),\n  textError: document.querySelector('.error'),\n};\n\nfetchBreeds(makeMarkupSelect, showSelect, removeLoader, showError);\nref.select.addEventListener('change', selectedCat);\n\nfunction makeMarkupSelect(dataResp) {\n  const markup = dataResp\n    .map(dataEl => `<option value=${dataEl.id}>${dataEl.name}</option>`)\n    .join('');\n  ref.select.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction selectedCat(evt) {\n  const selectedValue = evt.currentTarget.value;\n  fetchCatByBreed(selectedValue, makeMarkupCat, removeLoader, showError);\n  ref.catInfo.innerHTML = '';\n  showLoader();\n}\n\nfunction makeMarkupCat(dataResp) {\n  const markup = `<img src=${dataResp[0].url} alt=${dataResp[0].breeds[0].name}\nwidth=\"350\"/><div class=\"text-info\"><h1>${dataResp[0].breeds[0].name}</h1><p>${dataResp[0].breeds[0].description}</p><p><b>Temperament:</b> ${dataResp[0].breeds[0].temperament}</p></div>`;\n\n  ref.catInfo.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction showSelect() {\n  ref.select.classList.remove('is-notActive-select');\n}\n\nfunction removeLoader() {\n  ref.textLoader.classList.add('is-notActive-loader');\n}\nfunction showLoader() {\n  ref.textLoader.classList.remove('is-notActive-loader');\n}\n\nfunction showError() {\n  ref.textError.classList.remove('is-notActive-error');\n}\n// function removeError() {\n//   ref.textError.classList.add('is-notActive-error');\n// }\n"],"names":["axios","fetchBreeds","makeMarkupSelect","showSelect","removeLoader","showError","data","error","fetchCatByBreed","breedId","makeMarkupCat","ref","selectedCat","dataResp","markup","dataEl","evt","selectedValue","showLoader"],"mappings":"svBAEAA,EAAM,SAAS,QAAU,+BACzBA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEACFA,EAAM,SAAS,QAAQ,KAAK,cAAc,EAAI,mBAE9C,SAASC,EAAYC,EAAkBC,EAAYC,EAAcC,EAAW,CAC1EL,EACG,IAAI,SAAS,EACb,KAAK,CAAC,CAAE,KAAAM,KAAW,CAClBJ,EAAiBI,CAAI,EACrBH,IACAC,GACN,CAAK,EACA,MAAMG,GAAS,CACdF,IACAD,IACA,QAAQ,IAAIG,CAAK,CACvB,CAAK,CACL,CAEA,SAASC,EAAgBC,EAASC,EAAeN,EAAcC,EAAW,CACxEL,EACG,IAAI,2BAA2BS,CAAO,EAAE,EACxC,KAAK,CAAC,CAAE,KAAAH,KAAW,CAClBI,EAAcJ,CAAI,EAClBF,GACN,CAAK,EACA,MAAMG,GAAS,CACdF,IACAD,IACA,QAAQ,IAAIG,CAAK,CACvB,CAAK,CACL,CChCA,MAAMI,EAAM,CACV,OAAQ,SAAS,cAAc,eAAe,EAC9C,QAAS,SAAS,cAAc,WAAW,EAC3C,WAAY,SAAS,cAAc,SAAS,EAC5C,UAAW,SAAS,cAAc,QAAQ,CAC5C,EAEAV,EAAYC,EAAkBC,EAAYC,EAAcC,CAAS,EACjEM,EAAI,OAAO,iBAAiB,SAAUC,CAAW,EAEjD,SAASV,EAAiBW,EAAU,CAClC,MAAMC,EAASD,EACZ,IAAIE,GAAU,iBAAiBA,EAAO,EAAE,IAAIA,EAAO,IAAI,WAAW,EAClE,KAAK,EAAE,EACVJ,EAAI,OAAO,mBAAmB,YAAaG,CAAM,CACnD,CAEA,SAASF,EAAYI,EAAK,CACxB,MAAMC,EAAgBD,EAAI,cAAc,MACxCR,EAAgBS,EAAeP,EAAeN,EAAcC,CAAS,EACrEM,EAAI,QAAQ,UAAY,GACxBO,GACF,CAEA,SAASR,EAAcG,EAAU,CAC/B,MAAMC,EAAS,YAAYD,EAAS,CAAC,EAAE,GAAG,QAAQA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI;AAAA,0CACpCA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI,WAAWA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW,8BAA8BA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW,aAE7KF,EAAI,QAAQ,mBAAmB,YAAaG,CAAM,CACpD,CAEA,SAASX,GAAa,CACpBQ,EAAI,OAAO,UAAU,OAAO,qBAAqB,CACnD,CAEA,SAASP,GAAe,CACtBO,EAAI,WAAW,UAAU,IAAI,qBAAqB,CACpD,CACA,SAASO,GAAa,CACpBP,EAAI,WAAW,UAAU,OAAO,qBAAqB,CACvD,CAEA,SAASN,GAAY,CACnBM,EAAI,UAAU,UAAU,OAAO,oBAAoB,CACrD"}