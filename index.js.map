{"version":3,"file":"index.js","sources":["../src/js/cat-api.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1';\naxios.defaults.headers.common['x-api-key'] =\n  'live_dQuAF2pHJj23iJ2FMfklaGTDoTtwEarWY1Oy4DhSrDVaK6BwG3daRESWIuzSfuis';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nfunction fetchBreeds() {\n  return axios\n    .get('/breeds')\n    .then(({ data }) => {\n      return data;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nfunction fetchCatByBreed(breedId) {\n  return axios\n    .get(`images/search?breed_ids=${breedId}`)\n    .then(({ data }) => {\n      return data;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport SlimSelect from 'slim-select';\n\nconst ref = {\n  select: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  textLoader: document.querySelector('.loader'),\n  textError: document.querySelector('.error'),\n};\n\nfetchBreeds()\n  .then(data => {\n    makeMarkupSelect(data);\n    showSelect();\n    new SlimSelect({\n      select: ref.select,\n    });\n    removeLoader();\n  })\n\n  .catch(() => {\n    showError(), removeLoader();\n  });\n\nref.select.addEventListener('change', selectedCat);\n\nfunction makeMarkupSelect(dataResp) {\n  console.log('Make Markup Select');\n  const markup = dataResp\n    .map(dataEl => `<option value=${dataEl.id}>${dataEl.name}</option>`)\n    .join('');\n  ref.select.insertAdjacentHTML('beforeend', markup);\n  // const markup = dataResp.map(dataEl => {\n  //   return { text: dataEl.name, value: dataEl.id };\n  // });\n  // console.log(markup);\n  // new SlimSelect({\n  //   select: ref.select,\n  //   data: markup,\n  // });\n}\n\nfunction selectedCat(evt) {\n  const selectedValue = evt.currentTarget.value;\n\n  fetchCatByBreed(selectedValue)\n    .then(data => {\n      makeMarkupCat(data);\n      removeLoader();\n    })\n    .catch(() => {\n      showError(), removeLoader();\n    });\n  ref.catInfo.innerHTML = '';\n  showLoader();\n}\n\nfunction makeMarkupCat(dataResp) {\n  const markup = `<img src=${dataResp[0].url} alt=${dataResp[0].breeds[0].name}\nwidth=\"350\"/><div class=\"text-info\"><h1>${dataResp[0].breeds[0].name}</h1><p>${dataResp[0].breeds[0].description}</p><p><b>Temperament:</b> ${dataResp[0].breeds[0].temperament}</p></div>`;\n\n  ref.catInfo.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction showSelect() {\n  ref.select.classList.remove('is-notActive-select');\n}\n\nfunction removeLoader() {\n  ref.textLoader.classList.add('is-notActive-loader');\n}\nfunction showLoader() {\n  ref.textLoader.classList.remove('is-notActive-loader');\n}\n\nfunction showError() {\n  ref.textError.classList.remove('is-notActive-error');\n}\n\n// function makeSlim() {\n//   console.log('Make Slim Select');\n//   new SlimSelect({\n//     select: ref.select,\n//   });\n// }\n"],"names":["axios","fetchBreeds","data","error","fetchCatByBreed","breedId","ref","makeMarkupSelect","showSelect","SlimSelect","removeLoader","showError","selectedCat","dataResp","markup","dataEl","evt","selectedValue","makeMarkupCat","showLoader"],"mappings":"6vBAEAA,EAAM,SAAS,QAAU,+BACzBA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEACFA,EAAM,SAAS,QAAQ,KAAK,cAAc,EAAI,mBAE9C,SAASC,GAAc,CACrB,OAAOD,EACJ,IAAI,SAAS,EACb,KAAK,CAAC,CAAE,KAAAE,KACAA,CACR,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAEA,SAASC,EAAgBC,EAAS,CAChC,OAAOL,EACJ,IAAI,2BAA2BK,CAAO,EAAE,EACxC,KAAK,CAAC,CAAE,KAAAH,KACAA,CACR,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CCxBA,MAAMG,EAAM,CACV,OAAQ,SAAS,cAAc,eAAe,EAC9C,QAAS,SAAS,cAAc,WAAW,EAC3C,WAAY,SAAS,cAAc,SAAS,EAC5C,UAAW,SAAS,cAAc,QAAQ,CAC5C,EAEAL,EAAa,EACV,KAAKC,GAAQ,CACZK,EAAiBL,CAAI,EACrBM,IACA,IAAIC,EAAW,CACb,OAAQH,EAAI,MAClB,CAAK,EACDI,GACJ,CAAG,EAEA,MAAM,IAAM,CACXC,EAAS,EAAID,GACjB,CAAG,EAEHJ,EAAI,OAAO,iBAAiB,SAAUM,CAAW,EAEjD,SAASL,EAAiBM,EAAU,CAClC,QAAQ,IAAI,oBAAoB,EAChC,MAAMC,EAASD,EACZ,IAAIE,GAAU,iBAAiBA,EAAO,EAAE,IAAIA,EAAO,IAAI,WAAW,EAClE,KAAK,EAAE,EACVT,EAAI,OAAO,mBAAmB,YAAaQ,CAAM,CASnD,CAEA,SAASF,EAAYI,EAAK,CACxB,MAAMC,EAAgBD,EAAI,cAAc,MAExCZ,EAAgBa,CAAa,EAC1B,KAAKf,GAAQ,CACZgB,EAAchB,CAAI,EAClBQ,GACN,CAAK,EACA,MAAM,IAAM,CACXC,EAAS,EAAID,GACnB,CAAK,EACHJ,EAAI,QAAQ,UAAY,GACxBa,GACF,CAEA,SAASD,EAAcL,EAAU,CAC/B,MAAMC,EAAS,YAAYD,EAAS,CAAC,EAAE,GAAG,QAAQA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI;AAAA,0CACpCA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI,WAAWA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW,8BAA8BA,EAAS,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW,aAE7KP,EAAI,QAAQ,mBAAmB,YAAaQ,CAAM,CACpD,CAEA,SAASN,GAAa,CACpBF,EAAI,OAAO,UAAU,OAAO,qBAAqB,CACnD,CAEA,SAASI,GAAe,CACtBJ,EAAI,WAAW,UAAU,IAAI,qBAAqB,CACpD,CACA,SAASa,GAAa,CACpBb,EAAI,WAAW,UAAU,OAAO,qBAAqB,CACvD,CAEA,SAASK,GAAY,CACnBL,EAAI,UAAU,UAAU,OAAO,oBAAoB,CACrD"}